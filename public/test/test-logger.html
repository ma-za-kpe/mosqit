<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosqit Logger Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        .submit-btn {
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
        }
        .error-btn {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 4px;
        }
        #output {
            margin-top: 20px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>🦟 Mosqit Logger Test Suite</h1>
    <p>Open Chrome DevTools → Mosqit panel to see enhanced logs with AI analysis</p>

    <h2>Test Scenarios:</h2>

    <h3>1. Basic Logging</h3>
    <button onclick="testBasicLog()">Test console.log</button>
    <button onclick="testWarning()">Test console.warn</button>
    <button onclick="testError()">Test console.error</button>

    <h3>2. Error Scenarios (Logcat-Inspired AI Analysis)</h3>
    <button class="error-btn" onclick="testNullReference()">Trigger Null Reference</button>
    <button class="error-btn" onclick="testUndefinedVariable()">Trigger Undefined Variable</button>
    <button class="error-btn" onclick="testDOMError()">Trigger DOM Error</button>
    <button class="error-btn" onclick="testAsyncError()">Trigger Async Error</button>

    <h3>3. UI Interaction Errors</h3>
    <button class="submit-btn" onclick="handleSubmit()" id="submitBtn">Submit Form (will fail)</button>
    <button onclick="testRecurringError()">Trigger Recurring Error (3x)</button>

    <h3>4. Framework Detection</h3>
    <button onclick="testFrameworkDetection()">Check Dependencies</button>

    <h3>5. Diagnostics</h3>
    <button onclick="checkMosqitStatus()" style="background: #2196F3; color: white; border: none; border-radius: 4px;">🔍 Check Mosqit Status</button>
    <button onclick="viewCapturedLogs()" style="background: #4CAF50; color: white; border: none; border-radius: 4px;">📋 View Captured Logs</button>

    <h3>6. Chrome AI Setup</h3>
    <button onclick="checkChromeAI()" style="background: #FF9800; color: white; border: none; border-radius: 4px;">🤖 Check Chrome AI Status</button>
    <button onclick="checkOnDeviceStatus()" style="background: #00BCD4; color: white; border: none; border-radius: 4px;">📊 Check On-Device Model</button>
    <button onclick="testChromeAI()" style="background: #9C27B0; color: white; border: none; border-radius: 4px;">🧪 Test AI Analysis</button>
    <button onclick="forceAIDownload()" style="background: #795548; color: white; border: none; border-radius: 4px;">⬇️ Force AI Model Download</button>
    <button onclick="showAISetupGuide()" style="background: #607D8B; color: white; border: none; border-radius: 4px;">📚 Show AI Setup Guide</button>

    <h3>7. EPP Writer API (Advanced)</h3>
    <button onclick="checkWriterAPI()" style="background: #4CAF50; color: white; border: none; border-radius: 4px;">✍️ Check Writer API</button>
    <button onclick="triggerWriterDownload()" style="background: #FF5722; color: white; border: none; border-radius: 4px;">📥 Download Writer Model</button>
    <button onclick="testWriterAPI()" style="background: #673AB7; color: white; border: none; border-radius: 4px;">🔬 Test Writer API</button>
    <button onclick="testRewriterAPI()" style="background: #3F51B5; color: white; border: none; border-radius: 4px;">✏️ Test Rewriter API</button>
    <button onclick="testWriterForErrors()" style="background: #009688; color: white; border: none; border-radius: 4px;">🐛 Test Error Analysis</button>

    <h3>8. Chrome AI APIs Suite</h3>
    <button onclick="checkAllAPIs()" style="background: #E91E63; color: white; border: none; border-radius: 4px;">🔍 Check All APIs Status</button>
    <button onclick="testPromptAPI()" style="background: #9C27B0; color: white; border: none; border-radius: 4px;">💬 Test Prompt API</button>
    <button onclick="testSummarizerAPI()" style="background: #673AB7; color: white; border: none; border-radius: 4px;">📄 Test Summarizer API</button>
    <button onclick="testTranslatorAPI()" style="background: #3F51B5; color: white; border: none; border-radius: 4px;">🌐 Test Translator API</button>
    <button onclick="testLanguageDetector()" style="background: #2196F3; color: white; border: none; border-radius: 4px;">🔤 Test Language Detector</button>

    <h3>9. Advanced AI Tests</h3>
    <button onclick="testStreamingAPIs()" style="background: #FF9800; color: white; border: none; border-radius: 4px;">🌊 Test Streaming Output</button>
    <button onclick="testAPIPerformance()" style="background: #795548; color: white; border: none; border-radius: 4px;">⚡ Test API Performance</button>
    <button onclick="testMultipleAPIs()" style="background: #607D8B; color: white; border: none; border-radius: 4px;">🔀 Test Multiple APIs Together</button>
    <button onclick="downloadAllModels()" style="background: #F44336; color: white; border: none; border-radius: 4px;">⬇️ Download All AI Models</button>
    <button onclick="testMosqitIntegration()" style="background: #00BCD4; color: white; border: none; border-radius: 4px;">🦟 Test Mosqit AI Integration</button>

    <h3>10. Model Storage & Diagnostics</h3>
    <button onclick="checkModelStorage()" style="background: #8BC34A; color: white; border: none; border-radius: 4px;">📁 Check Model Storage Location</button>
    <button onclick="checkOnDeviceInternals()" style="background: #CDDC39; color: black; border: none; border-radius: 4px;">🔍 Check On-Device Internals</button>

    <h3>11. 📥 Download Monitoring</h3>
    <button onclick="quickStatusCheck()" style="background: #2196F3; color: white; border: none; border-radius: 4px;">⚡ Quick Status Check</button>
    <button onclick="startDownloadMonitor()" style="background: #4CAF50; color: white; border: none; border-radius: 4px;">▶️ Start Live Monitor (5s updates)</button>
    <button onclick="stopDownloadMonitor()" style="background: #F44336; color: white; border: none; border-radius: 4px;">⏹️ Stop Monitor</button>
    <button onclick="checkFolderSize()" style="background: #FF9800; color: white; border: none; border-radius: 4px;">📏 Check Folder Size Guide</button>
    <button onclick="estimateProgress()" style="background: #9C27B0; color: white; border: none; border-radius: 4px;">📊 Estimate Progress</button>
    <button onclick="openOnDeviceInternals()" style="background: #00BCD4; color: white; border: none; border-radius: 4px;">🔗 Open chrome://on-device-internals</button>

    <div id="output"></div>

    <script src="test-logger.js"></script>
    <script src="chrome-ai-tests.js"></script>
    <script src="chrome-ai-monitor.js"></script>
</body>
</html>